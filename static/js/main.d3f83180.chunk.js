(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(a){a.exports=[{suit:"clubs",rank:1,src:"./cardsImages/AC.png"},{suit:"clubs",rank:2,src:"./cardsImages/2C.png"},{suit:"clubs",rank:3,src:"./cardsImages/3C.png"},{suit:"clubs",rank:4,src:"./cardsImages/4C.png"},{suit:"clubs",rank:5,src:"./cardsImages/5C.png"},{suit:"clubs",rank:6,src:"./cardsImages/6C.png"},{suit:"clubs",rank:7,src:"./cardsImages/7C.png"},{suit:"clubs",rank:8,src:"./cardsImages/8C.png"},{suit:"clubs",rank:9,src:"./cardsImages/9C.png"},{suit:"clubs",rank:10,src:"./cardsImages/10C.png"},{suit:"clubs",rank:11,src:"./cardsImages/JC.png"},{suit:"clubs",rank:12,src:"./cardsImages/QC.png"},{suit:"clubs",rank:13,src:"./cardsImages/KC.png"},{suit:"diamonds",rank:1,src:"./cardsImages/AD.png"},{suit:"diamonds",rank:2,src:"./cardsImages/2D.png"},{suit:"diamonds",rank:3,src:"./cardsImages/3D.png"},{suit:"diamonds",rank:4,src:"./cardsImages/4D.png"},{suit:"diamonds",rank:5,src:"./cardsImages/5D.png"},{suit:"diamonds",rank:6,src:"./cardsImages/6D.png"},{suit:"diamonds",rank:7,src:"./cardsImages/7D.png"},{suit:"diamonds",rank:8,src:"./cardsImages/8D.png"},{suit:"diamonds",rank:9,src:"./cardsImages/9D.png"},{suit:"diamonds",rank:10,src:"./cardsImages/10D.png"},{suit:"diamonds",rank:11,src:"./cardsImages/JD.png"},{suit:"diamonds",rank:12,src:"./cardsImages/QD.png"},{suit:"diamonds",rank:13,src:"./cardsImages/KD.png"},{suit:"hearts",rank:1,src:"./cardsImages/AH.png"},{suit:"hearts",rank:2,src:"./cardsImages/2H.png"},{suit:"hearts",rank:3,src:"./cardsImages/3H.png"},{suit:"hearts",rank:4,src:"./cardsImages/4H.png"},{suit:"hearts",rank:5,src:"./cardsImages/5H.png"},{suit:"hearts",rank:6,src:"./cardsImages/6H.png"},{suit:"hearts",rank:7,src:"./cardsImages/7H.png"},{suit:"hearts",rank:8,src:"./cardsImages/8H.png"},{suit:"hearts",rank:9,src:"./cardsImages/9H.png"},{suit:"hearts",rank:10,src:"./cardsImages/10H.png"},{suit:"hearts",rank:11,src:"./cardsImages/JH.png"},{suit:"hearts",rank:12,src:"./cardsImages/QH.png"},{suit:"hearts",rank:13,src:"./cardsImages/KH.png"},{suit:"spades",rank:1,src:"./cardsImages/AS.png"},{suit:"spades",rank:2,src:"./cardsImages/2S.png"},{suit:"spades",rank:3,src:"./cardsImages/3S.png"},{suit:"spades",rank:4,src:"./cardsImages/4S.png"},{suit:"spades",rank:5,src:"./cardsImages/5S.png"},{suit:"spades",rank:6,src:"./cardsImages/6S.png"},{suit:"spades",rank:7,src:"./cardsImages/7S.png"},{suit:"spades",rank:8,src:"./cardsImages/8S.png"},{suit:"spades",rank:9,src:"./cardsImages/9S.png"},{suit:"spades",rank:10,src:"./cardsImages/10S.png"},{suit:"spades",rank:11,src:"./cardsImages/JS.png"},{suit:"spades",rank:12,src:"./cardsImages/QS.png"},{suit:"spades",rank:13,src:"./cardsImages/KS.png"}]},12:function(a,e,t){a.exports=t(20)},17:function(a,e,t){},18:function(a,e,t){},20:function(a,e,t){"use strict";t.r(e);var s=t(1),r=t.n(s),n=t(9),i=t.n(n),c=(t(17),t(2)),d=t(3),o=t(5),u=t(4),l=t(6),p=t(0),m=(t(18),function(a){function e(a){var t;return Object(c.a)(this,e),(t=Object(o.a)(this,Object(u.a)(e).call(this,a))).id=t.props.id,t.dragStart=t.dragStart.bind(Object(p.a)(Object(p.a)(t))),t}return Object(l.a)(e,a),Object(d.a)(e,[{key:"dragStart",value:function(a){a.dataTransfer.setData("text",a.target.id),a.dataTransfer.setDragImage(a.target,0,0)}},{key:"render",value:function(){var a=this.props.src;return r.a.createElement("img",{src:a,alt:"cardImg",className:this.props.className,id:this.props.id,suit:this.props.suit,rank:this.props.rank,draggable:"true",onDragStart:this.dragStart})}}]),e}(s.Component)),g=function(a){function e(){return Object(c.a)(this,e),Object(o.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(l.a)(e,a),Object(d.a)(e,[{key:"render",value:function(){return r.a.createElement("div",{className:this.props.className,id:this.props.id,onClick:this.props.onClick},r.a.createElement(m,{src:"./cardsImages/gray_back.png",className:"stockCard",onClick:this.props.onClick}))}}]),e}(s.Component),h=function(a){function e(a){var t;return Object(c.a)(this,e),(t=Object(o.a)(this,Object(u.a)(e).call(this,a))).state={cards:t.props.cards},t.dragStart=t.dragStart.bind(Object(p.a)(Object(p.a)(t))),t.removeCard=t.removeCard.bind(Object(p.a)(Object(p.a)(t))),t}return Object(l.a)(e,a),Object(d.a)(e,[{key:"dragStart",value:function(a){a.dataTransfer.setData("text",a.target.id)}},{key:"removeCard",value:function(){this.setState(function(a){return a.cards.shift(),{cards:a.cards}})}},{key:"render",value:function(){return r.a.createElement("div",{id:this.props.id,className:this.props.className,ref:"waste"},this.state.cards[0])}}]),e}(s.Component),k=function(a){function e(a){var t;return Object(c.a)(this,e),(t=Object(o.a)(this,Object(u.a)(e).call(this,a))).state={cards:[]},t.allowDrop=t.allowDrop.bind(Object(p.a)(Object(p.a)(t))),t.drop=t.drop.bind(Object(p.a)(Object(p.a)(t))),t.isFoundationEmpty=t.isFoundationEmpty.bind(Object(p.a)(Object(p.a)(t))),t.isNextCard=t.isNextCard.bind(Object(p.a)(Object(p.a)(t))),t.removeCard=t.removeCard.bind(Object(p.a)(Object(p.a)(t))),t.isCardAddable=t.isCardAddable.bind(Object(p.a)(Object(p.a)(t))),t}return Object(l.a)(e,a),Object(d.a)(e,[{key:"isFoundationEmpty",value:function(){return 0===this.state.cards.length}},{key:"isNextCard",value:function(a){return a.suit===this.state.suit&&a.rank===this.state.nextRank.toString()}},{key:"isCardAddable",value:function(a){return this.isFoundationEmpty()&&"1"===a.rank||this.isNextCard(a)}},{key:"createCard",value:function(a,e){return r.a.createElement(m,{src:a.src,id:a.id,className:a.className,suit:e.suit,rank:e.rank})}},{key:"removeCard",value:function(){this.setState(function(a){return a.cards.shift(),{cards:a.cards}})}},{key:"addCard",value:function(a,e){var t=this;this.setState(function(s){return s.cards.unshift(t.createCard(a,e)),{cards:s.cards,suit:e.suit,nextRank:++e.rank}})}},{key:"allowDrop",value:function(a){a.preventDefault()}},{key:"drop",value:function(a){var e=document.getElementById(a.dataTransfer.getData("text"));if(null!==e){var t={suit:e.id.split("-")[0],rank:e.id.split("-")[1]};this.isCardAddable(t)&&(this.addCard(e,t),"waste"===e.parentNode.id&&window.waste.removeCard(),"pile"===e.parentNode.parentNode.className&&window[e.parentNode.parentNode.id].removeCard())}}},{key:"render",value:function(){return r.a.createElement("div",{className:this.props.className,id:this.props.id,onDragOver:this.allowDrop,onDrop:this.drop,ref:this.props.id},this.state.cards[0])}}]),e}(s.Component),b=function(a){function e(){return Object(c.a)(this,e),Object(o.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(l.a)(e,a),Object(d.a)(e,[{key:"render",value:function(){return r.a.createElement("div",{className:"foundations"},r.a.createElement(k,{className:"foundation",id:"foundation1",ref:function(a){return window.foundation1=a}}),r.a.createElement(k,{className:"foundation",id:"foundation2",ref:function(a){return window.foundation2=a}}),r.a.createElement(k,{className:"foundation",id:"foundation3",ref:function(a){return window.foundation3=a}}),r.a.createElement(k,{className:"foundation",id:"foundation4",ref:function(a){return window.foundation4=a}}))}}]),e}(s.Component),C=function(a){function e(a){var t;return Object(c.a)(this,e),(t=Object(o.a)(this,Object(u.a)(e).call(this,a))).state={cards:t.props.cards,upCards:t.props.cards.splice(0,1),downCards:t.getInitialDowncards(t.props.cards.length)},t.colors={clubs:"black",diamonds:"red",spades:"black",hearts:"red"},t.allowedCardLocations=["foundation","waste","pile"],t.getInitialDowncards=t.getInitialDowncards.bind(Object(p.a)(Object(p.a)(t))),t.allowDrop=t.allowDrop.bind(Object(p.a)(Object(p.a)(t))),t.removeCard=t.removeCard.bind(Object(p.a)(Object(p.a)(t))),t.drop=t.drop.bind(Object(p.a)(Object(p.a)(t))),t.getCardIndex=t.getCardIndex.bind(Object(p.a)(Object(p.a)(t))),t.updateCard=t.updateCard.bind(Object(p.a)(Object(p.a)(t))),t.isCardAddable=t.isCardAddable.bind(Object(p.a)(Object(p.a)(t))),t.isFirstToPile=t.isFirstToPile.bind(Object(p.a)(Object(p.a)(t))),t.isNextToPile=t.isNextToPile.bind(Object(p.a)(Object(p.a)(t))),t.isPileEmpty=t.isPileEmpty.bind(Object(p.a)(Object(p.a)(t))),t.addCard=t.addCard.bind(Object(p.a)(Object(p.a)(t))),t.addCards=t.addCards.bind(Object(p.a)(Object(p.a)(t))),t.generateCardsFrom=t.generateCardsFrom.bind(Object(p.a)(Object(p.a)(t))),t}return Object(l.a)(e,a),Object(d.a)(e,[{key:"componentDidMount",value:function(){var a=this;this.setState(function(e){if(void 0!==e.upCards[0]){var t=e.upCards[0].props.suit,s=e.upCards[0].props.rank;return{lastColor:a.colors[t],currentRank:s-1}}})}},{key:"isPileEmpty",value:function(){return void 0===this.state.upCards[0]}},{key:"isFirstToPile",value:function(a){return"13"===a.rank}},{key:"isNextToPile",value:function(a){return this.state.lastColor!==a.color&&a.rank===this.state.currentRank.toString()}},{key:"isCardAddable",value:function(a){return this.isPileEmpty()&&this.isFirstToPile(a)||this.isNextToPile(a)}},{key:"getCardIndex",value:function(a){return this.state.upCards.findIndex(function(e){return e.props.id===a.id})}},{key:"getUpcardsFrom",value:function(a){return this.state.upCards.slice(a)}},{key:"getCardDetails",value:function(a){return{suit:a.id.split("-")[0],rank:a.id.split("-")[1],id:a.id,color:this.colors[a.id.split("-")[0]]}}},{key:"createCard",value:function(a,e){return r.a.createElement(m,{src:a.src,id:a.id,className:a.className,suit:e.suit,rank:e.rank})}},{key:"getInitialDowncards",value:function(a){for(var e=[],t=0;t<a;t++)e.push(r.a.createElement(m,{src:"./cardsImages/gray_back.png",className:"card",key:t}));return e}},{key:"removeCard",value:function(){var a=this;this.setState(function(e){return e.upCards.pop(),0===e.upCards.length&&(e.upCards.push(e.cards.splice(0,1)[0]),a.componentDidMount()),{upCards:e.upCards,cards:e.cards,downCards:a.getInitialDowncards(e.cards.length)}})}},{key:"removeCardsFrom",value:function(a){var e=this;this.setState(function(t){return t.upCards.splice(a),0===t.upCards.length&&(t.upCards.push(t.cards.splice(0,1)[0]),e.componentDidMount()),{upCards:t.upCards,cards:t.cards,downCards:e.getInitialDowncards(t.cards.length)}})}},{key:"generateCardsFrom",value:function(a,e){for(var t=e.getUpcardsFrom(a),s=[],r=0;r<t.length;r++){var n=document.getElementById(t[r].props.id),i=this.getCardDetails(n);s.push(this.createCard(n,i))}return s}},{key:"addCard",value:function(a){var e=this;this.setState(function(t){return t.upCards.push(a),{upCards:t.upCards,lastColor:e.colors[a.props.suit],currentRank:a.props.rank-1}})}},{key:"addCards",value:function(a){var e=this;this.setState(function(t){a.forEach(function(a){return t.upCards.push(a)});var s=a[a.length-1];return{upCards:t.upCards,lastColor:e.colors[s.props.suit],currentRank:s.props.rank-1}})}},{key:"updateCard",value:function(a){var e=this.getCardDetails(a),t=a.parentNode.className;this.isCardAddable(e)&&(this.addCard(this.createCard(a,e)),this.allowedCardLocations.includes(t)&&window[a.parentNode.id].removeCard())}},{key:"allowDrop",value:function(a){a.preventDefault()}},{key:"drop",value:function(a){var e=document.getElementById(a.dataTransfer.getData("text"));if(null!==e){var t=e.parentNode.parentNode,s=window[t.id],r=this.getCardDetails(e);if("pile"===t.className&&this.isCardAddable(r)){var n=s.getCardIndex(e),i=this.generateCardsFrom(n,s);this.addCards(i),s.removeCardsFrom(n)}else this.updateCard(e)}}},{key:"render",value:function(){return r.a.createElement("div",{className:this.props.className,id:this.props.id,ref:this.props.id,onDrop:this.drop,onDragOver:this.allowDrop},this.state.downCards,r.a.createElement("div",null,this.state.upCards))}}]),e}(s.Component),f=function(a){var e=[];return a.forEach(function(a){e.push(r.a.createElement(m,{src:a.src,className:"card",suit:a.suit,rank:a.rank,id:a.suit+"-"+a.rank}))}),e}(t(10)),v=t(11),O=t.n(v).a.shuffle(f.slice(0)),j=new(function(){function a(){Object(c.a)(this,a),this.tableuCards=O.slice(0,28),this.stockCards=O.slice(28)}return Object(d.a)(a,[{key:"getStockCards",value:function(){return this.stockCards}},{key:"getTableauCards",value:function(){return this.tableuCards}}]),a}()),w=function(a){function e(a){var t;return Object(c.a)(this,e),(t=Object(o.a)(this,Object(u.a)(e).call(this,a))).state={cards:j.getTableauCards()},t}return Object(l.a)(e,a),Object(d.a)(e,[{key:"render",value:function(){return r.a.createElement("div",{className:this.props.className,id:this.props.id},r.a.createElement(C,{className:"pile",id:"pile1",ref:function(a){return window.pile1=a},cards:this.state.cards.slice(0,1),key:"pile1"}),r.a.createElement(C,{className:"pile",id:"pile2",ref:function(a){return window.pile2=a},cards:this.state.cards.slice(1,3),key:"pile2"}),r.a.createElement(C,{className:"pile",id:"pile3",ref:function(a){return window.pile3=a},cards:this.state.cards.slice(3,6),key:"pile3"}),r.a.createElement(C,{className:"pile",id:"pile4",ref:function(a){return window.pile4=a},cards:this.state.cards.slice(6,10),key:"pile4"}),r.a.createElement(C,{className:"pile",id:"pile5",ref:function(a){return window.pile5=a},cards:this.state.cards.slice(10,15),key:"pile5"}),r.a.createElement(C,{className:"pile",id:"pile6",ref:function(a){return window.pile6=a},cards:this.state.cards.slice(15,21),key:"pile6"}),r.a.createElement(C,{className:"pile",id:"pile7",ref:function(a){return window.pile7=a},cards:this.state.cards.slice(21),key:"pile7"}))}}]),e}(s.Component),I=j.getStockCards(),y=function(a){function e(a){var t;return Object(c.a)(this,e),(t=Object(o.a)(this,Object(u.a)(e).call(this,a))).state={stockCards:I,wasteCards:[]},t.drawCard=t.drawCard.bind(Object(p.a)(Object(p.a)(t))),t}return Object(l.a)(e,a),Object(d.a)(e,[{key:"drawCard",value:function(){if(0===this.state.stockCards.length)this.setState(function(a){return a.stockCards=a.wasteCards.splice(0),{stockCards:a.stockCards}});else{var a=this.state.stockCards.pop();this.state.wasteCards.unshift(a),this.setState({stockCards:this.state.stockCards})}}},{key:"render",value:function(){return r.a.createElement("main",null,r.a.createElement("div",{className:"upperPart"},r.a.createElement("div",{className:"stock-waste"},r.a.createElement(g,{className:"stock",id:"stock",cards:this.state.cards,onClick:this.drawCard}),r.a.createElement(h,{className:"waste",id:"waste",cards:this.state.wasteCards,ref:function(a){return window.waste=a}})),r.a.createElement(b,{className:"foundations",id:"foundations"})),r.a.createElement(w,{className:"tableau",id:"tableau"}))}}]),e}(s.Component);i.a.render(r.a.createElement(y,null),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.d3f83180.chunk.js.map